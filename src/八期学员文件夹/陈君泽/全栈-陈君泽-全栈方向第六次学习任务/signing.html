<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Page</title>
</head>
<body>
    <input type="text" id="email" placeholder="Email" />
    <input type="password" id="password" placeholder="Password" />
    <button id="signIn">Sign In</button>
    <p id="wrong"></p>

    <script>
        let msg = [
            {
                name: "张三",
                age: 20,
                strengths: "JavaScript",
                avatar: "https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1",
                email: "yunding@qq.com",
                password: 33333,
            },
            {
                name: "李四",
                age: 19,
                strengths: "python",
                avatar: "https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1",
                email: "12345678@163.com",
                password: 11111,
            },
            {
                name: "王五",
                age: 18,
                strengths: "Java",
                avatar: "https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1",
                email: "yundingshuyuan@qq.cn",
                password: 222222,
            },
        ];
        var email = document.querySelector("#email");
        var password = document.querySelector("#password");
        var signIn = document.querySelector("#signIn");
        var wrong = document.querySelector("#wrong");
        console.dir(email);
        email.onblur = function () {
            var mail = /^([a-zA-Z0-9_-])+(@qq)|(@163)+(.com)|(.cn)+/;
            var flag = mail.test(email.value);
            if (flag == false) {
                wrong.innerHTML = "邮箱格式错误";
            } else {
                wrong.innerHTML = "&nbsp;";
                for (i = 0; i < msg.length; i++) {
                    if (email.value == msg[i].email) {
                        wrong.innerHTML = "请输入密码";
                        break;
                    }
                }
                if (i == msg.length) {
                    wrong.innerHTML = "请确认您是否完成注册";
                }
            }
        };
        function getemail() {
            for (i = 0; i < msg.length; i++) {
                if (email.value == msg[i].email) {
                    localStorage.setItem("i", i);
                    break;
                }
            }
            return i;
        }
        signIn.onclick = function () {
            var i = getemail();
            console.log(i);
            console.log(msg[i].password);
            if (password.value == msg[i].password) {
                window.location.href = "Signed.html";
            } else {
                wrong.innerHTML = "密码错误请重新输入";
            }
        };       
    </script>
</body> 
</html> 

