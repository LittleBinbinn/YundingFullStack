# Git学习

### 一、版本控制介绍

#### 1.版本控制

是一种在开发的过程中，用于管理我们对文件、目录或者工程等内容的修改历史，方便查看更改历史记录，备份以便恢复以前的版本的软件工程技术。用于管理多人协同开发项目的技术

#### 2.为什么要使用版本控制

- 没有进行版本控制或者版本控制本身缺乏正确的流程管理，在软件开发过程中就会出现很多问题
- 多种问题如下：
  - 软件代码的一致性问题
  - 软件内容的冗余
  - 软件过程的事物性
  - 软件开发过程中并发性
  - 软件源代码安全性
  - 软件整合问题
- 涉及到软件开发过程中：
  - 代码备份
  - 代码还原
  - 协同工作修改代码
  - 多版本工程项目管理
  - 代码质量追踪
  - 问题追溯
  - 代码编写人员和提交时间
  - 控制权限等
- 我们可以把版本控制系统，理解为一个数据库（版本号、版本提交时间、文件提交人、提交时的注释等）在需要的时候，保存了一个项目的快照。当需要查看一个文件的快照时，版本控制系统可以显示出当前版本与上一版本之间所有的改动细节

#### 3.主要功能

##### 1）追踪文件的变更：

记录什么时间、什么人更改了文件的什么内容。每一次文件的改变，文件的版本号都会增加

##### 2）软件的并行开发

可以有效地解决版本同步以及不同开发者之间的开发通信问题，并使用分支与合并方式，有效地解决不同版本软件的bug问题

#### 4.版本控制主要内容

检入检出、分支和合并、历史记录

#### 5.版本控制系统分类

![屏幕截图 2024-03-17 104341](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20104341.png)

- 第一代版本控制系统被称为本地版本控制系统 

  - 通过加锁将并发执行转换为顺序执行，一次只能有一个人处理文件

- 第二代版本控制系统被称为集中式版本控制系统

  - 集中化版本控制系统CVS、SVN，都有一个单一的集中管理的服务器，保存所有文件的修订版本，协同工作的程序员都可以通过客户端连接到服务器，从服务器上取出最新的文件或者提交自己的更新
  - 好处：管理员可以轻松掌握每个开发者权限2，并且管理一个集中化的版本控制系统，我们每个程序员在一定程度上能看到项目中其他人的提交和进度。要远比各个客户端上维护本地数据来得容易轻松
  - 缺点：中央服务器如果出现故障，程序员没有办法提交更新，也不能协同工作。如果服务器磁盘坏掉，会出现整个项目文件丢失的情况

  ![屏幕截图 2024-03-17 105441](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20105441.png)

- 第三代版本控制系统被称为分布式版本控制系统

  - 在每个开发者电脑上就有一个完整的数据仓库，没有网络依然可以使用。客户端不止提取最新版本的文件快照，而是把整个代码仓库完整的镜像下来。任何一处协同工作用的服务器发生故障，事后都可以用任何一个镜像的本地仓库来恢复。因为每次提取操作，实际上都是一次对代码仓库的完整备份（Git对代码做极致压缩，最终需要的实际空间比SVG不会大太多）

  ![屏幕截图 2024-03-17 105503](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20105503.png)

- 集中式与分布式的区别：

  - SVN每次保存的都是版本的差异，需要的磁盘空间小一点，回滚的速度会很慢
    - 优点：代码存放在单一服务器上，便于项目的管理
    - 缺点：服务器宕机，开发者写代码不能同步，不能切换版本，写的代码不能得到保障。当服务器磁盘坏掉时，整个项目的历史记录都可能丢失
  - Git每次保存的都是项目的完整快照，需要的磁盘空间稍大一些
    - 优点：完全分布式，不用担心服务器宕机问题和磁盘损坏问题
    - 缺点：学习成本高

### 二、Git简介

是一个开源的分布式版本控制系统，可以有效地高速处理从很小搭配很大的项目管理

### 三、Git基本使用

#### 1.个人信息配置

- 远程仓库支持SSH和HTTPS两种协议，SSH协议只认机器，HTTPS协议只认账号
- 如果用SSH操作远程仓库，需要使用公钥和私钥来做权限的认证，如果使用HTTPS操作远程仓库，需要使用账号密码来做权限认证
- 远程仓库需要记录：
  - 提交是由谁来完成的，需要设置本地的git用户名和邮箱
  - 在从本地仓库向远程仓库推送提交时，记录下操作是由谁来完成的
- Git是分布式版本控制系统，每台机器都需要自报家门；用户名和邮箱是可以任意配置的

~~~shell
//查看配置信息
git config --list
//查看全局配置信息
git config --list --global
//设置用户名
git config --global user.name xxxx
//设置邮箱
git config --global user.emali xxxxxx
//验证是否设置成功
git config --list --global
在C盘->用户->用户名->.gitconfig文件
//清除用户名
git config --global --unset user.name
//清除邮箱
git config --global --unser user.email
//替换用户名
git config --global user.name usershi
~~~

#### 2.Git初始化仓库

~~~shell
//创建仓库
git init
~~~

生成一个隐藏的目录

![屏幕截图 2024-03-17 112332](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20112332.png)

![屏幕截图 2024-03-17 112359](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20112359.png)

#### 3.Git的三个区域

git分为三个区域：工作区、暂存区、版本库（本地库）

![屏幕截图 2024-03-17 112615](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20112615.png)

- 工作区：在自己的电脑上，直接编辑的文件，包含两部分，git已经管理的文件区域和新增以及修改的文件区域
- 暂存区：把工作区中的部分 或者 全部已经确认需要保存的文件提交到暂存区，由暂存区先进行保存，如果直接确认可以提交到本地仓库，如果不能做决定，可以放在暂存区。在暂存区的文件，可以提交，也可以删除
- 版本库：存放已经提交的数据，里面由提交的所有的版本数据，数据一旦进入版本库，再去进行修改，都会有记录

#### 4.Git常用指令

![屏幕截图 2024-03-17 113430](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20113430.png)

![屏幕截图 2024-03-17 113935](https://zhang0816.oss-cn-beijing.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-03-17%20113935.png)

#### 5.Git将数据从暂存区提交到版本库

![屏幕截图 2024-03-17 144918](C:\Users\张扬\Pictures\Screenshots\屏幕截图 2024-03-17 144918.png)

#### 6.Git版本切换

~~~shell
git reset --hard 版本号
HEAD HEAD~0表示当前版本
HEAD HEAD~1上一个版本
HEAD HEAD~2上上个版本

git reset --soft 版本号
git reset --mixed
~~~

- 区别：
  - git reset --hard：在重置HEAD和branch的同时，重置暂存区和工作区里的内容。暂存区和工作区中的内容，会被完全重置为HEAD版本中新位置相同的内容。你没有commit的修改会被全部擦掉
  - git reset --soft：保留工作目录和暂存区中的内容，并把重置HEAD所带来的新的差异放进暂存区
  - git reset --mixed：保留工作区，并且清空暂存区。工作区文件的修改、暂存区文件的修改以及reset所导致的新的文化差异，都会放在工作区

#### 7.Git分支操作

- 分支就是从主线上分离出来的，可以进行另外的操作，而不影响主线，主线上的代码还是可以继续发布，或继续做其他的事情

~~~shell
git branch -v //查看分支
git branch 分支名 //创建分支
git branch -d 分支名 //删除分支
git checkout 分支名 //切换分支
git checkout -b 分支名 //创建分支并切换到当前分支上
git merge 分支名 //合并该分支到当前分支上
~~~

- 出现冲突，需要手工解决冲突代码，再次进行add并commit，commit时，不要带文件名、
- 分支标准
  - 主分支：master
  - 开发分支：develop
  - 测试分支：release
  - 临时性分支：
    - 功能分支：feature（一般是develop分支分出）
    - 热修复分支：hotfix（一般是master分支分出）
    - 使用后，应该删除
- 分支命名规范：Type-Date-Domain-Description
- 提交日志规范：

![屏幕截图 2024-03-17 152704](C:\Users\张扬\Pictures\Screenshots\屏幕截图 2024-03-17 152704.png)



#### 8.远程仓库

- 定义：远程仓库为了能在任意地点，进行团队协作开发，需要有一个托管在网络上的版本库-远程仓库。与其他人进行团队协作开发，需要管理远程开发，并对数据进行推送或拉取
- 管理远程仓库：
  - 新建仓库
  - 移除无效的远程仓库
  - 管理不同的分支
  - 管理版本
- 如果是一个小的团队开发，可以在公司，使用一台电脑充当版本管理服务器。如果实在不同地点开发，就需要将服务器放在互联上
- Gitee和Github
  - GitHub是提供git仓库托管服务的，只需要注册GitHub账号，可以免费获取git远程仓库
  - Gitee由开源中国基于gitlab开发的，为开发者提供稳定、高效率安全的云端软件开发协作平台，无论是个人、团队还是企业，都可以使用Gitee（码云）实现代码托管、项目管理、协作开发等操作

- 创建远程仓库:
  - 初始化本地仓库
  - 进行代码拉取
  - 创建别名：默认使用origin

~~~shell
//为远程仓库起名字
git remote add git_demo3 https://github.com/git_demo3.git
//将本地内容推送到远程仓库上
git push git_demo3 master
//从远程仓库拉取数据
git pull git_demo3 master
//克隆远程仓库到本地
git clone https://github.com/git_demo3.git
~~~

#### 9.配置ssh登录

在C:\Users\Administrator\.ssh目录下 

~~~shell
ssh-keygen -t res -C '自定义标识'
//三个回车
//生成id_rsa id_res.pub

vim模式下
id_rsa.pub//查看公钥

GitHub上settings配置ssh
~~~

#### 10.整体使用的指令

![git](C:\Users\张扬\Desktop\云顶书院资料\全栈方向学习\前端学习资料\git.png)
