<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登陆系统</title>
    <style>
        body {
            height: 930px;
        }

        div {
            width: 662px;
            margin: auto;
            font-size: 25px;
        }

        input {
            width: 500px;
            height: 30px;
            font-size: 20px;
        }

        button {
            width: 100px;
            height: 40px;
            margin-top: 5px;
            font-size: 18px;
        }

        #before {
            width: 250px;
            height: 300px;
            position: relative;
            top: -620px;
            left: 300px;
        }

        .background {
            width: 1650px;
            height: 930px;
            position: relative;
        }
        #after img {
        position: relative;
        top: 10px;
        width: 100px;
        border-radius: 50%;
    }
        #after {
            width: 450px;
            height: 300px;
            position: relative;
            top: -620px;
            left: 600px;
        }
        
        span {
            color: rgb(204, 0, 255);
            font-size: 20px;
        }
    </style>
</head>

<body>
    <div class="background">
        <img style="width:1650px;height:930px;" src="https://wangbutaihao.oss-cn-beijing.aliyuncs.com/back.jpg" />
    </div>
    <div id="before">
        请输入邮箱：<br>
        <input type="text" style="background-color: transparent;" id="email">
        <span id="mis1"></span>
        请输入密码：<br>
        <input type="password" style="background-color: transparent;" id="key"><br><br>
        <span id="mis2"></span>
        <button id="online" onclick="online()">登录</button>
    </div>
    <div id="after">
        <div id="enter"></div>
        <img src="" id="pic"></img>
        <div id="result"></div>

    </div>
    <script>
        function online() {
            var email = document.getElementById('email').value;
            var key = document.getElementById('key').value;
            var mis1 = document.getElementById('mis1');
            var mis2 = document.getElementById('mis2');
            var regex = /([@]qq|[@]163)(\.{1}com|\.{1}cn)$/;

            let msg = [{
                name: '张三',
                age: 20,
                strengths: 'JavaScript',
                avatar: 'https://tse4-mm.cn.bing.net/th/id/OIP-C.39mOMBjUfsK-HL9jUbv1MwHaE7?pid=ImgDet&rs=1',
                email: 'yunding@qq.com',
                password: 33333
            },
            {
                name: '李四',
                age: 19,
                strengths: 'python',
                avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.YlKimVo94OkaZDZCzPIDpAHaFh?pid=ImgDet&rs=1',
                email: '12345678@163.com',
                password: 11111
            },
            {
                name: '王五',
                age: 18,
                strengths: 'Java',
                avatar: 'https://tse2-mm.cn.bing.net/th/id/OIP-C.P2hK9SRjhFE8WM9N8tgWFAHaEQ?pid=ImgDet&rs=1',
                email: 'yundingshuyuan@qq.cn',
                password: 222222
            }, { email:''}
            ]

            if (regex.test(email) == false) {
                mis1.innerHTML = '输入格式错误，请重新输入！<br>(以.com或.cn结尾，且@后为163或qq)<br>';
                alert("输入的邮箱格式有误，请重新输入！");
            } else {
                for (let i = 0; i < msg.length; i++) {
                    if (msg[i].email == email) {
                        if (msg[i].password == key) {
                            console.log(i)
                            var resultDiv = document.getElementById('result');
                            var image = document.getElementById('pic');
                            var before = document.getElementById('before');
                            var enter = document.getElementById('enter');
                            before.style.display = 'none';
                            image.src = msg[i].avatar;
                            enter.innerHTML = '登录成功'
                            resultDiv.innerHTML = '<br>姓名：' + msg[i].name + '<br>年龄：' + msg[i].age + '<br>特长：' + msg[i].strengths;
                        }
                    }
                    else { 
                        mis1.innerHTML = '';
                        mis2.innerHTML = '用户不存在或密码错误！';
                
                    }
                }
            }

        }

    </script>
</body>

</html>